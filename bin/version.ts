import npmConfig from '../package.json' with {type: "json"};
import jsrConfig from "../jsr.json" with {type: "json"};

if(npmConfig.version !== jsrConfig.version) {
    throw new Error(`unmatched versions - npm: ${npmConfig.version}  jsr: ${jsrConfig.version}`);
}

Deno.writeTextFileSync("./src/version.ts", `
// this file is autogenerated - do not edit
export const version = "${npmConfig.version}";
`, {create: true});